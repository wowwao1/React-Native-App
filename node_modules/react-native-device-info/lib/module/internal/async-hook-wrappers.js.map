{"version":3,"sources":["async-hook-wrappers.ts"],"names":["useState","useEffect","useOnMount","asyncGetter","initialResult","loading","result","response","setResponse","getAsync"],"mappings":"6HAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CASA,MAAO,SAASC,CAAAA,UAAT,CACLC,WADK,CAGe,IADpBC,CAAAA,aACoB,2DADoB,SACpB,eACYJ,QAAQ,CAAC,CACvCK,OAAO,CAAE,IAD8B,CAEvCC,MAAM,CAAEF,aAF+B,CAAD,CADpB,wCACbG,QADa,eACHC,WADG,eAMpBP,SAAS,CAAC,UAAM,CAEd,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,iLACMN,WAAW,EADjB,SACTG,MADS,eAEfE,WAAW,CAAC,CAAEH,OAAO,CAAE,KAAX,CAAkBC,MAAM,CAANA,MAAlB,CAAD,CAAX,CAFe,8CAAjB,CAKAG,QAAQ,GACT,CARQ,CAQN,CAACN,WAAD,CARM,CAAT,CAUA,MAAOI,CAAAA,QAAP,CACD","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport { AsyncHookResult } from './types';\n\n/**\n * simple hook wrapper for async functions for 'on-mount / componentDidMount' that only need to fired once\n * @param asyncGetter async function that 'gets' something\n * @param initialResult  -1 | false | 'unknown'\n */\nexport function useOnMount<T>(\n  asyncGetter: () => Promise<T>,\n  initialResult: -1 | false | 'unknown' = 'unknown'\n): AsyncHookResult<T> {\n  const [response, setResponse] = useState({\n    loading: true,\n    result: initialResult,\n  } as AsyncHookResult<T>);\n\n  useEffect(() => {\n    // async function cuz react complains if useEffect's effect param is an async function\n    const getAsync = async () => {\n      const result = await asyncGetter();\n      setResponse({ loading: false, result });\n    };\n\n    getAsync();\n  }, [asyncGetter]);\n\n  return response;\n}\n"]}